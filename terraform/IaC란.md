# IaC란

# Infrastructure as Code (IaC)란 무엇인가?

이번 학습 목표의 첫 번째는 **IaC의 기본 개념과 왜 IaC가 필요한지**를 이해하는 것이다.

---

## 1. Infrastructure as Code(IaC)의 정의

- *Infrastructure as Code(IaC)**란

서버, 네트워크, 스토리지와 같은 **인프라를 사람이 직접 수동으로 설정하는 대신, 코드로 정의하고 관리하는 방식**을 의미한다.

즉, 콘솔에서 하나하나 클릭하며 인프라를 구성하는 것이 아니라, **코드 파일을 통해 인프라를 생성·변경·삭제**하는 것이다.

---

## 2. IaC 구성 파일의 역할

IaC에서 사용하는 **구성 파일(Configuration File)**에는 다음과 같은 인프라 사양이 코드 형태로 저장된다.

- 컴퓨팅 인스턴스(서버)
- 스토리지
- 로드 밸런서
- DNS 설정
- 보안 그룹
- 네트워크 접근 제어
- 오토 스케일링 설정 등

이러한 리소스들은 **모듈화된 구조**로 표현되어, 필요한 인프라를 재사용 가능하고 일관되게 구성할 수 있다.

---

## 3. IaC 패턴의 장점

IaC를 사용하면 다음과 같은 장점이 있다.

### 1) 협업과 형상 관리 용이

- 여러 사람이 같은 인프라 설정을 함께 관리 가능
- GitHub, GitLab과 같은 버전 관리 시스템(VCS)에 저장 가능
- 변경 이력 추적 및 롤백 가능

### 2) 환경의 일관성 보장

- 언제 어디서 실행하더라도 동일한 인프라 환경 생성
- 개발, 테스트, 운영 환경을 동일하게 구성 가능

### 3) 자동화를 통한 오류 감소

- 수동 설정에서 발생하는 실수를 줄임
- 복잡한 인프라도 자동으로 안정적으로 배포

---

## 4. 클라우드 네이티브 접근과 IaC

Infrastructure as Code는 **클라우드 중심(Cloud-first / Cloud-native)** 인프라 관리 방식을 촉진한다.

이 접근 방식은 다음을 중시한다.

- **탄력성(Elasticity)**: 필요에 따라 자동 확장/축소
- **가용성(Availability)**: 장애에도 서비스 지속
- **복원력(Resilience)**: 자동 복구 가능

IaC를 통해 개발자는 **운영 환경과 거의 동일한 인프라를 필요할 때 즉시 생성**할 수 있다.

---

## 5. 새로운 서비스와 기능 테스트의 용이성

IaC를 사용하면 다음이 가능해진다.

- 새로운 서비스나 기능을 빠르게 테스트
- 테스트 환경을 손쉽게 생성 및 삭제
- 빠른 피드백을 통한 반복적인 개선

이는 DevOps 및 CI/CD 환경에서 매우 중요한 요소이다.

---

## 6. Terraform과 플랫폼 독립성

Terraform은 **플랫폼에 종속되지 않는(provider-agnostic) IaC 도구**이다.

즉, 하나의 도구로 다음과 같은 환경을 함께 관리할 수 있다.

- AWS
- Azure
- GCP
- 기타 SaaS, PaaS, 온프레미스 리소스

예: AWS + Azure + 사설 데이터센터를 동시에 관리

---

## 7. Terraform의 등장 배경과 목적

기존의 전통적인 인프라 환경에서는 다음과 같은 문제가 있었다.

- 물리 서버 구매 및 설치에 수주~수개월 소요
- 초기 비용이 매우 큼
- 확장이 어렵고 느림

클라우드의 등장으로 다음이 가능해졌다.

- 몇 분 안에 인프라 생성
- 사용한 만큼만 비용 지불
- 스타트업과 소규모 조직도 빠른 서비스 출시 가능

Terraform은 이러한 클라우드 환경에서 **여러 리소스를 하나의 코드로 안전하게 관리**하기 위해 만들어졌다.

---

## 8. Terraform의 주요 사용 목적

Terraform은 다음과 같은 환경에서 널리 사용된다.

- SaaS (Software as a Service)
- PaaS (Platform as a Service)
- IaaS (Infrastructure as a Service)

이들 환경은 모두 **표준화되고 일관된 인프라 배포**가 필수적이다.

---

## 9. Terraform 목적 요약

Terraform의 핵심 목적은 다음과 같다.

- 여러 Provider의 리소스를 하나로 통합 관리
- 인프라에 대한 고수준 추상화 제공
- 안전하고 예측 가능한 인프라 변경
- GitHub 등 VCS를 통한 버전 관리
- 실행 전 변경 사항 미리 확인(dry run)
- API 기반 인프라 관리
- Provider 독립성 확보
- 필요 시 동일한 환경을 즉시 생성
- 병렬 리소스 관리 지원
- 설정 표준화

---

## 10. Terraform State의 중요성

**Terraform State**는 Terraform이 관리하는 인프라의 현재 상태를 기록한 파일이다.

Terraform 실행 시 다음과 같은 과정이 이루어진다.

1. 현재 실행 중인 인프라 상태 확인
2. 코드에 정의된 상태와 비교
3. 변경 사항이 있으면 사용자에게 표시
4. 승인 시 변경된 부분만 적용

이 방식은 **기존 인프라를 불필요하게 변경하지 않으면서 필요한 부분만 수정**할 수 있게 해준다.