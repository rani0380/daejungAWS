# 1. IGW 생성 및 연결

![image.png](1%20IGW%20%EC%83%9D%EC%84%B1%20%EB%B0%8F%20%EC%97%B0%EA%B2%B0/image.png)

## IGW 생성 및 연결

**IGW (Internet Gateway)**: VPC에 연결된 리소스가 **외부 인터넷과 통신할 수 있도록** 해주는 출입구 역할

- IGW가 연결되지 않으면, EC2는 퍼블릭 IP가 있어도 인터넷에 나갈 수 없음

### ① IGW 생성 및 연결

1. AWS 콘솔 → **VPC 서비스** → **인터넷 게이트웨이(IGW)** 선택
2. **인터넷 게이트웨이 생성** 클릭
    - 이름 태그: `student01-igw`
3. 생성 후 → **"작업" → VPC에 연결**
    - 대상 VPC: `student01-vpc`

### ② 라우팅 테이블 생성 및 퍼블릭 서브넷에 연결

1. **라우팅 테이블 생성**
    - 이름: `student01-public-rtb`
    - VPC: `student01-vpc`
2. 라우팅 테이블 → **라우트 편집**
    - `0.0.0.0/0` → 대상: 방금 만든 **IGW**
3. **서브넷 연결 탭**에서:
    - 퍼블릭 서브넷 2개 (`10.0.1.0/24`, `10.0.2.0/24`)를 연결

## 🧩 전체 구성 흐름 확인

| 구성 요소 | 서브넷 유형 | 외부 통신 가능 여부 | 설정 방식 |
| --- | --- | --- | --- |
| ALB | 퍼블릭 서브넷 | O | IGW 경로 포함 |
| NAT 게이트웨이 | 퍼블릭 서브넷 | O (단방향) | EIP 연결됨 |
| ECS Fargate | 프라이빗 서브넷 | O (NAT 통해서) | 라우트: `0.0.0.0/0 → NAT` |
| DynamoDB | 프라이빗 서브넷 | O | VPC 엔드포인트 사용 가능 |

—> .pem파일로 바로 인스턴스 접속하는 방법

[Git bash downloads site](https://git-scm.com/downloads)

![image.png](1%20IGW%20%EC%83%9D%EC%84%B1%20%EB%B0%8F%20%EC%97%B0%EA%B2%B0/image%201.png)

## ✅ VPC와 서브넷의 차이점

| 항목 | VPC (Virtual Private Cloud) | 서브넷 (Subnet) |
| --- | --- | --- |
| **역할** | 사용자 전용의 가상 네트워크 공간 | VPC 내부의 IP 주소 영역을 나눈 작은 단위 |
| **기능** | 전체 네트워크의 범위와 구조를 정의 | 리소스를 논리적으로 그룹화하고 라우팅/보안 적용 |
| **IP 대역** | 10.0.0.0/16 (예시)처럼 큰 범위를 설정 | 10.0.1.0/24, 10.0.2.0/24 등으로 쪼개서 사용 |
| **개수** | 1개 VPC 내에 여러 개의 서브넷 구성 가능 | 하나의 서브넷은 특정 AZ에 위치 |
| **용도** | EC2, RDS, ALB 등 모든 AWS 리소스가 속함 | 리소스의 배치, 공개/비공개 구분 (퍼블릭/프라이빗) |
| **라우팅/보안** | IGW, NAT, NACL, Route Table, SG 등 연결됨 | 각각의 서브넷에 라우팅과 보안 그룹 적용됨 |

## 💡 비유로 이해해보면

| 개념 | 비유 |
| --- | --- |
| VPC | **아파트 단지 전체** (큰 울타리 안 공간 전체) |
| 서브넷 | **동별 구역** (101동, 102동처럼 쪼갠 공간) |
| IGW | **정문(인터넷 연결)** |
| 보안 그룹 | **각 집 현관 보안 시스템** |

![image.png](1%20IGW%20%EC%83%9D%EC%84%B1%20%EB%B0%8F%20%EC%97%B0%EA%B2%B0/image%202.png)